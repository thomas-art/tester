<!DOCTYPE html>
<html lang="zh" >
<head>
	<meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¼€å¾€-å‹é“¾æ¥åŠ›</title>
    <link rel="shortcut icon" href="./assets/favicon.png">
    <link href="https://npm.elemecdn.com/volantis-static@0.0.1654736714924/libs/izitoast/dist/css/iziToast.min.css" rel="stylesheet">
    <script src="./assets/anime.min.js"></script>
    <link href="https://npm.elemecdn.com/font6pro@6.0.1/css/all.min.css" rel="stylesheet">
	<link rel="stylesheet" href="./assets/style.css">
</head>
<body>
<div class="ticket airline">
	<div class="destination">
		<div class="title-row">
			<div class="from">
				<h1><span id="from">å¼€å¾€</span></h1>
				<p>å‡ºå‘ç«™</p>
			</div>
			<div class="icon">
				<h1><i class="fa-light fa-train-subway"></i></h1>
				<p><i class="fa-solid fa-arrow-right-long"></i></p>
			</div>
			<div class="dest">
				<h1><span id="dest">â€¦â€¦</span></h1>
				<p>ç›®çš„åœ°</p>
			</div>
		</div>
		<!-- <h1><span id="from">å¼€å¾€</span> <i class="fa-light fa-train-subway"></i> <span id="dest">â€¦â€¦</span></h1>
		<div class="small-des">
			<p>å‡ºå‘ç«™</p><i class="fa-solid fa-arrow-right-long"></i><p>ç›®çš„åœ°</p>
		</div> -->
	</div>
	<div class="container">
		<div class="watermark">
			<div class="info">
				<div class="row">
					<p>TRAVELLINGS <span>å¼€å¾€</span></p>
				</div>
				<div class="row">
					<a href="https://github.com/travellings-link/travellings" target="_blank" title="ç‚¹å‡»åŠ å…¥â€œå¼€å¾€â€ï¼Œåˆ†äº«ç½‘ç«™æµé‡ :-)"><p>ä¸€èµ·å¼€å¾€ä¸‹ä¸€ä¸ªä¸–ç•Œâ€¦ <span>let's travelling to the next</span></p></a>
				</div>
				<div class="row">
					<p id="boarding-date"><span>å‘è½¦æ—¥æœŸ</span></p>
					<p id="boarding-time"><span>å‘è½¦æ—¶é—´</span></p>
				</div>
			</div>
		</div>
	</div>
	<div class="dots"></div>
	<div class="cut">
		â†©ï¸ Tips: <b>åé€€</b>ç½‘é¡µå¯å†æ¬¡å¼€å¾€<br />
        <a href="https://github.com/travellings-link/travellings" target="_blank">ğŸš‡ åŠ å…¥</a>&nbsp;|&nbsp;
        <a href="https://data.travellings.link/share/js3UvdC4/%E5%BC%80%E5%BE%80" target="_blank">ğŸ”® ç»Ÿè®¡</a>&nbsp;|&nbsp;
        <a href="https://status.travellings.link/status/index" target="_blank">â™»ï¸ çŠ¶æ€</a><br />
		<a href="https://www.tsyvps.com" target="_blank">â˜• æ„Ÿè°¢è“æ˜“äº‘çš„æœåŠ¡å™¨</a><br />
        <a href="https://github.com/travellings-link/travellings/stargazers"><img alt="GitHub stars" src="https://img.shields.io/github/stars/travellings-link/travellings?style=social" height="18px"></a>
	</div>
</div>
<!-- partial -->
	<script src="./assets/script.js"></script>
	<script src="https://npm.elemecdn.com/axios@0.27.2/dist/axios.min.js"></script>
	<script>
		anime({
  			targets: '.ticket',
  			translateX: 1000,
			duration: 1000
		     });
	</script>
	<script language="javascript" type="module">
		import { travellingNext, rip_url, travelling } from './assets/travelling.js';

		/**
		 * é“¾æ¥é¢„åŠ è½½
		 * @param {string} url é“¾æ¥åœ°å€
		 */
		const prefetch = (url) => {
			// Add the link to pre-fetch, the browser will fetch it instantly.
			const prefetchLink = document.createElement('link');
			prefetchLink.rel = 'prefetch';
			prefetchLink.href = url;
			document.head.appendChild(prefetchLink);
		}

		let to = rip_url;
		while(to == rip_url) { // Ignore rips
			to = travellingNext();
		}
		const from = document.referrer || false;

		if (from) {
			document.getElementById('from').innerText = new URL(from).hostname;
		}
		document.getElementById('dest').innerText = new URL(to).hostname

		prefetch(to);
		axios.get(to, {responseType: 'document'}).then((resp) => document.getElementById('dest').innerText = resp.data.title || new URL(to).hostname);
		window.setTimeout(() => travelling(to), 3000);
    </script>
    <script src="https://npm.elemecdn.com/volantis-static@0.0.1654736714924/libs/izitoast/dist/js/iziToast.min.js">
    </script>
    <script>
        iziToast.show({
            title: 'Hi',
            message: 'å»ºç«‹äº†QQç¾¤,<a href="https://jq.qq.com/?_wv=1027&k=Ym87ov3q" target="_blank">ç‚¹å‡»è¿›å…¥</a>',
            icon: 'fa-brands fa-qq',
            color: 'yellow',
            time: 30000
        });
    </script>
</body>
</html>
